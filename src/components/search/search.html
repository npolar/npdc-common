<!DOCTYPE html>
<md-content>

  <section class="npdc-search">
    <npdc:create-button class="np-primary-control"></npdc:create-button>
    <div ng-if="!feed.entries">
      <div layout="row" layout-sm="column" layout-align="space-around">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </div>
    </div>

    <div ng-repeat="e in feed.entries | filter:entryfilter">
      <md-content class="np-layout-list">
        <md-list>
          <md-list-item class="md-2-line">
            <div class="md-list-item-text">
              <h3 class="md-headline">
                <a ng-href="{{ entryHref(e.id) }}">{{ title(e) }}</a>
              </h3>
              <h4>{{ e.updated.split("T")[0] }}</h4>
            </div>
          </md-list-item>
        </md-list>
      </md-content>
    </div>

    <md-subheader class="md-primary">
      <span ng-if="feed.opensearch.totalResults > 0">{{feed.opensearch.totalResults}} results, displaying {{ feed.entries.length}}
        <button ng-if="showNext()" ng-click="next()">More</button>
      </span>

      <span ng-if="feed.opensearch.totalResults == 0">No results when searching for "{{q}}"</span>
    </md-subheader>
  </section>
</md-content>
