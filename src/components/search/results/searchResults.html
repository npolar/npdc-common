<!DOCTYPE html>
<npdc:create-button class="np-primary-control"></npdc:create-button>
<div class="npdc-search">
  <md-content>

    <section>
      <div ng-if="!feed.entries">
        <div layout="row" layout-sm="column" layout-align="space-around">
          <md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>
      </div>

      <div ng-repeat="e in feed.entries | filter:entryfilter">
        <md-content class="np-layout-list">
          <a ng-href="{{ entryHref(e.id) }}">
            <md-list>
              <md-list-item class="md-2-line">
                <div class="np-search-icon md-avatar" title="ID: {{ e.id }}">
                  <span>{{ e.id.substr(0,3) }}</span>
                </div>
                <div class="md-list-item-text">
                  <h3 class="md-headline">
                    {{ title(e) }}
                    <em ng-if="e.created_by">
                      「{{ e.created_by }}」
                    </em>
                  </h3>
                  <h4>{{ e.updated.split("T")[0] }}</h4>
                </div>
              </md-list-item>
            </md-list>
            <md-divider></md-divider>
          </a>

        </md-content>
      </div>

      <md-subheader class="md-primary">
        <span ng-if="feed.opensearch.totalResults > 0">{{feed.opensearch.totalResults}} results, displaying {{ feed.entries.length}}
          <button ng-if="showNext()" ng-click="next()">More</button>
        </span>

        <span ng-if="feed.opensearch.totalResults == 0">No results when searching for "{{q}}"</span>
      </md-subheader>
    </section>
  </md-content>
</div>
