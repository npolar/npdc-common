<!DOCTYPE html>
<div ng-if="field.visible">
  <md-autocomplete md-items="item in querySearchPlacenames(placename.value)" md-min-length="1"
    md-search-text="placename.value" md-floating-label="{{placename.title}}"
    md-selected-item-change="onSelectPlacename(item)" md-item-text="item.title" md-menu-class="np-autocomplete-custom">

    <md-item-template>
      <span class="np-autocomplete-custom-main">
        <span md-highlight-flags="^i" md-highlight-text="placename.value">
          {{item.title}}
        </span>
      </span>
      <span class="np-autocomplete-custom-meta shade">
        <span>{{item.location}}</span>
        <span>{{item.country}}</span>
        <span>{{item.north}}N {{item.east}}E</span>
      </span>
    </md-item-template>

  </md-autocomplete>
  <div npdc:formula-validation-message class="np-validation-message" ng-init="field=placename"></div>
  <div layout="row">
    <div flex="50" flex-sm="100">
      <md-input-container>
        <label for="{{::area.uid}}">{{ (area.required ? area.title + ' (' + i18n.text.required + ')' : area.title) }}</label>

        <md-select ng-model="area.value">
          <md-option ng-repeat="val in area.values" value="{{::val.id}}">{{val.label}}</md-option>
        </md-select>

        <div npdc:formula-validation-message class="np-validation-message" ng-init="field=area"></div>
      </md-input-container>
    </div>
    <div flex="50">
      <md-autocomplete md-items="item in querySearchCountries(countrySearchText)" md-min-length="1"
        md-search-text="countrySearchText" md-floating-label="{{country.title}}" md-item-text="item.name"
        md-menu-class="np-autocomplete-custom" md-selected-item="selectedCountryItem" md-selected-item-change="country.value = item.code">

        <md-item-template>
          <span class="np-autocomplete-custom-main">
            <span md-highlight-flags="^i" md-highlight-text="countrySearchText">
              {{item.name}}
            </span>
          </span>
          <span class="np-autocomplete-custom-meta shade">
            <span>{{item.code}}</span>
            <span>{{item.native}}</span>
          </span>
        </md-item-template>

      </md-autocomplete>
      <div npdc:formula-validation-message class="np-validation-message" ng-init="field=country"></div>
    </div>
  </div>

</div>
